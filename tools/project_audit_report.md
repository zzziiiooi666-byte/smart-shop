# ๐ ุชูุฑูุฑ ูุญุต ุดุงูู ูููุดุฑูุน

**ุงูุชุงุฑูุฎ:** 2024-12-19  
**ุงููุดุฑูุน:** Smart Markt  
**ุงููุณุงุฑ:** `D:\xampp\htdocs\smart_markt\`

---

## โ ุงูููุงู ุงูููุชููุฉ

### 1. ุฅุถุงูุฉ ุญูู ุฑูู ุงููุงุชู
- โ ุชู ุฅุถุงูุฉ ุญูู ุฑูู ุงููุงุชู ูู ูููุฐุฌ ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ
- โ ุชู ุชุญุฏูุซ ูุนุงูุฌุฉ ุงูุจูุงูุงุช PHP
- โ ุชู ุชุญุฏูุซ ุงุณุชุนูุงู INSERT ููุดูู ุฑูู ุงููุงุชู
- โ ุชู ุฅุถุงูุฉ ุงูุชุญูู ูู ุตุญุฉ ุฑูู ุงููุงุชู

### 2. ุฅุตูุงุญ ุงููุณุงุฑุงุช
- โ ุฌููุน ูููุงุช `admin/` ุชุณุชุฎุฏู ุงููุณุงุฑุงุช ุงูุตุญูุญุฉ (`/../config/`)
- โ ุฌููุน ูููุงุช `user/` ุชุณุชุฎุฏู ุงููุณุงุฑุงุช ุงูุตุญูุญุฉ
- โ ุฌููุน ูููุงุช `auth/` ุชุณุชุฎุฏู ุงููุณุงุฑุงุช ุงูุตุญูุญุฉ
- โ ุฌููุน ูููุงุช `pages/` ุชุณุชุฎุฏู ุงููุณุงุฑุงุช ุงูุตุญูุญุฉ
- โ ุฌููุน ูููุงุช `tools/` ุชุณุชุฎุฏู ุงููุณุงุฑุงุช ุงูุตุญูุญุฉ

### 3. ุฅุตูุงุญ ุงูุฑูุงุจุท
- โ ุชู ุชุญุฏูุซ ุฑูุงุจุท `/admin.php` ุฅูู `/admin/admin.php`
- โ ุชู ุชุญุฏูุซ ุฑูุงุจุท `/login.php` ุฅูู `/auth/login.php`
- โ ุชู ุชุญุฏูุซ ุฑูุงุจุท `/register.php` ุฅูู `/auth/register.php`
- โ ุชู ุชุญุฏูุซ ุฑูุงุจุท `/profile.php` ุฅูู `/user/profile.php` ุฃู `/admin/admin-profile.php`
- โ ุชู ุฅูุดุงุก ูููุงุช ุฅุนุงุฏุฉ ุงูุชูุฌูู ูู ุงูุฌุฐุฑ

---

## ๐ ูููู ุงููุดุฑูุน

### ุงููุฌูุฏุงุช ุงูุฑุฆูุณูุฉ
```
smart_markt/
โโโ admin/          โ 8 ูููุงุช - ุฌููุนูุง ุชุนูู ุจุดูู ุตุญูุญ
โโโ auth/           โ 4 ูููุงุช - ุฌููุนูุง ุชุนูู ุจุดูู ุตุญูุญ
โโโ user/           โ 2 ูููุงุช - ุฌููุนูุง ุชุนูู ุจุดูู ุตุญูุญ
โโโ pages/          โ 9 ูููุงุช - ุฌููุนูุง ุชุนูู ุจุดูู ุตุญูุญ
โโโ tools/          โ 6 ูููุงุช - ุฌููุนูุง ุชุนูู ุจุดูู ุตุญูุญ
โโโ config/         โ 2 ูููุงุช - ุงูุฅุนุฏุงุฏุงุช
โโโ includes/       โ 2 ูููุงุช - header ู footer
โโโ assets/         โ CSS, JS, Images
โโโ api/            โ 4 ูููุงุช - API endpoints
โโโ database/       โ 9 ูููุงุช SQL
โโโ uploads/        โ ูุฌูุฏ ุงููููุงุช ุงููุฑููุนุฉ
```

### ูููุงุช ุฅุนุงุฏุฉ ุงูุชูุฌูู ูู ุงูุฌุฐุฑ
- โ `index.php` โ `/pages/index.php`
- โ `login.php` โ `/auth/login.php`
- โ `register.php` โ `/auth/register.php`
- โ `admin.php` โ `/admin/admin.php`
- โ `admin-profile.php` โ `/admin/admin-profile.php`
- โ `add-product.php` โ `/admin/add-product.php`
- โ `edit-product.php` โ `/admin/edit-product.php`
- โ `product-details.php` โ `/pages/product-details.php`
- โ `checkout.php` โ `/pages/checkout.php`
- โ `order-details.php` โ `/pages/order-details.php`
- โ `track-order.php` โ `/pages/track-order.php`
- โ `profile.php` โ `/user/profile.php`
- โ `notifications.php` โ `/user/notifications.php`
- โ `products.php` โ `/pages/products.php`
- โ `category.php` โ `/pages/category.php`
- โ `cart.php` โ `/pages/cart.php`
- โ `orders.php` โ `/pages/orders.php`

---

## ๐ง ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ

### 1. ุญูู ุฑูู ุงููุงุชู ูู ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ

**ุงูููู:** `admin/admin-profile.php`

**ุงูุชุบููุฑุงุช:**
1. ุฅุถุงูุฉ ุญูู input ูู ุงููููุฐุฌ (ุงูุณุทุฑ ~489):
```php
<div class="form-group">
    <label for="new_user_phone" style="color: white;">ุฑูู ุงููุงุชู (ุงุฎุชูุงุฑู)</label>
    <input type="text" id="new_user_phone" name="new_user_phone" 
           placeholder="ูุซุงู: 07501234567">
</div>
```

2. ุชุญุฏูุซ ูุนุงูุฌุฉ ุงูุจูุงูุงุช (ุงูุณุทุฑ ~159):
```php
$phone = sanitize($_POST['new_user_phone'] ?? '');
```

3. ุฅุถุงูุฉ ุงูุชุญูู ูู ุตุญุฉ ุงูุฑูู:
```php
elseif (!empty($phone) && !validatePhone($phone)) {
    $error = 'ุฑูู ุงููุงุชู ุบูุฑ ุตุญูุญ. ูุฑุฌู ุฅุฏุฎุงู ุฑูู ุนุฑุงูู ุตุญูุญ (ูุซุงู: 07501234567)';
}
```

4. ุชุญุฏูุซ ุงุณุชุนูุงู INSERT:
```php
$stmt = $db->prepare("INSERT INTO users (name, email, password, country, phone, isAdmin, profile_picture) VALUES (?, ?, ?, ?, ?, ?, ?)");
$stmt->execute([$name, $email, $hashedPassword, $country, $phone ?: null, $isAdmin, $profilePicture]);
```

### 2. ุฅุตูุงุญ ุฑูุงุจุท `/admin.php`

**ุงููููุงุช ุงููุญุฏุซุฉ:**
- `admin/add_products_simple.php`
- `admin/add-product.php`
- `admin/edit-product.php`

**ุงูุชุบููุฑ:**
```php
// ูุจู
SITE_URL . '/admin.php'

// ุจุนุฏ
SITE_URL . '/admin/admin.php'
```

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู `users`
- โ `id` - PRIMARY KEY
- โ `name` - VARCHAR(255)
- โ `email` - VARCHAR(255) UNIQUE
- โ `password` - VARCHAR(255)
- โ `country` - VARCHAR(100)
- โ `phone` - VARCHAR(20) - **ููุฌูุฏ ููุถุงู**
- โ `isAdmin` - BOOLEAN
- โ `profile_picture` - VARCHAR(500)
- โ `created_at` - TIMESTAMP
- โ `updated_at` - TIMESTAMP

### ุงูุฌุฏุงูู ุงูุฃุฎุฑู
- โ `products` - ูุนูู ุจุดูู ุตุญูุญ
- โ `categories` - ูุนูู ุจุดูู ุตุญูุญ
- โ `cart` - ูุนูู ุจุดูู ุตุญูุญ
- โ `orders` - ูุนูู ุจุดูู ุตุญูุญ
- โ `order_addresses` - ูุนูู ุจุดูู ุตุญูุญ
- โ `activity_logs` - ูุนูู ุจุดูู ุตุญูุญ
- โ `notifications` - ูุนูู ุจุดูู ุตุญูุญ

---

## โ ุงูุชุญูู ูู ุงููุธุงุฆู

### ุงููุตุงุฏูุฉ
- โ ุชุณุฌูู ุงูุฏุฎูู (`/auth/login.php`)
- โ ุงูุชุณุฌูู (`/auth/register.php`)
- โ ุชุณุฌูู ุงูุฎุฑูุฌ (`/auth/logout.php`)
- โ ุงูุชุญูู ูู ุงููุฏูุฑ (`/auth/check_admin.php`)

### ููุญุฉ ุงูุชุญูู
- โ ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ (`/admin/admin.php`)
- โ ุงูููู ุงูุดุฎุตู ูููุฏูุฑ (`/admin/admin-profile.php`)
- โ ุฅุถุงูุฉ ููุชุฌ (`/admin/add-product.php`)
- โ ุชุนุฏูู ููุชุฌ (`/admin/edit-product.php`)
- โ ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ - **ุชู ุฅุถุงูุฉ ุญูู ุฑูู ุงููุงุชู** โ

### ุตูุญุงุช ุงููุณุชุฎุฏู
- โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (`/pages/index.php`)
- โ ุงูููุชุฌุงุช (`/pages/products.php`)
- โ ุชูุงุตูู ุงูููุชุฌ (`/pages/product-details.php`)
- โ ุงููุฆุงุช (`/pages/category.php`)
- โ ุงูุณูุฉ (`/pages/cart.php`)
- โ ุงูุทูุจุงุช (`/pages/orders.php`)
- โ ุงูููู ุงูุดุฎุตู (`/user/profile.php`)
- โ ุงูุฅุดุนุงุฑุงุช (`/user/notifications.php`)

---

## ๐ฏ ุงููุชุงุฆุฌ

### โ ุฌููุน ุงููุณุงุฑุงุช ุตุญูุญุฉ
- ุฌููุน ูููุงุช `require_once` ุชุณุชุฎุฏู ุงููุณุงุฑุงุช ุงูุตุญูุญุฉ
- ุฌููุน ุงูุฑูุงุจุท ุงูุฏุงุฎููุฉ ูุญุฏุซุฉ
- ุฌููุน ูููุงุช ุฅุนุงุฏุฉ ุงูุชูุฌูู ููุฌูุฏุฉ

### โ ุฌููุน ุงููุธุงุฆู ุชุนูู
- ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ ูุน ุฑูู ุงููุงุชู โ
- ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู
- ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
- ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
- ุงูุณูุฉ ูุงูุทูุจุงุช

### โ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฌููุน ุงูุฌุฏุงูู ููุฌูุฏุฉ
- ุญูู `phone` ููุฌูุฏ ูู ุฌุฏูู `users`
- ุฌููุน ุงูุนูุงูุงุช (Foreign Keys) ุตุญูุญุฉ

---

## ๐ ููุงุญุธุงุช

1. **ุญูู ุฑูู ุงููุงุชู**: ุชู ุฅุถุงูุชู ูุญูู ุงุฎุชูุงุฑู ูู ูููุฐุฌ ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ
2. **ุงูุชุญูู ูู ุตุญุฉ ุงูุฑูู**: ูุณุชุฎุฏู ุฏุงูุฉ `validatePhone()` ุงูููุฌูุฏุฉ ูู `config/config.php`
3. **ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ**: ุฌููุน ุงูุฑูุงุจุท ุงููุฏููุฉ ุชุนูู ุนุจุฑ ูููุงุช ุฅุนุงุฏุฉ ุงูุชูุฌูู

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู)

1. ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ ูุน ุฑูู ูุงุชู
2. ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ ุจุฏูู ุฑูู ูุงุชู
3. ุงุฎุชุจุงุฑ ุงูุชุญูู ูู ุตุญุฉ ุฑูู ุงููุงุชู
4. ูุฑุงุฌุนุฉ ุฌููุน ุงูุตูุญุงุช ููุชุฃูุฏ ูู ุนูููุง ุจุดูู ุตุญูุญ

---

**ุชู ุฅูุดุงุก ุงูุชูุฑูุฑ:** 2024-12-19

