# تعليمات تحديث نظام البروفايل

## خطوات التحديث

### 1. تحديث قاعدة البيانات
قم بتشغيل ملف SQL التالي في phpMyAdmin أو MySQL:

**ملف:** `database/add_profile_picture.sql`

أو قم بتشغيل هذا الأمر SQL مباشرة:

```sql
ALTER TABLE users ADD COLUMN IF NOT EXISTS profile_picture VARCHAR(500) DEFAULT NULL AFTER country;
```

### 2. الملفات الجديدة المضافة:
- `profile.php` - صفحة بروفايل العميل
- `admin-profile.php` - صفحة بروفايل المدير
- `database/add_profile_picture.sql` - ملف تحديث قاعدة البيانات

### 3. الملفات المحدثة:
- `register.php` - إضافة رفع صورة البروفايل عند التسجيل
- `login.php` - حفظ صورة البروفايل في الجلسة
- `includes/header.php` - إضافة رابط البروفايل في القائمة

## المميزات المضافة:

### للعميل:
- عرض البروفايل مع الاسم، البريد الإلكتروني، البلد، وصورة البروفايل
- تحديث الاسم
- رفع وتحديث صورة البروفايل
- تغيير كلمة المرور مع إظهار/إخفاء كلمة المرور (أيقونة العين)
- تأكيد كلمة المرور

### للمدير:
- جميع مميزات بروفايل العميل
- إضافة مستخدم جديد من داخل البروفايل دون الحاجة لتسجيل الخروج
- تحديد صلاحيات المستخدم (مدير/مستخدم عادي)
- رفع صورة بروفايل للمستخدم الجديد

### في صفحة التسجيل:
- إمكانية رفع صورة البروفايل عند إنشاء حساب جديد
- معاينة الصورة قبل الرفع

## ملاحظات:
- الحد الأقصى لحجم الصورة: 4 MB
- أنواع الصور المدعومة: JPG, PNG, GIF, WEBP
- الصور تُحفظ في مجلد `uploads/`

